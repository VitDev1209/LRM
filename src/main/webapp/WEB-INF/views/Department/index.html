<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{Templates/MainLayout :: layout(~{::title}, ~{::section}, 'Department')}">
<head>
    <title>Leave Type</title>
</head>
<style>

.action-menu {
    position: relative;
    display: inline-block;
}

.btn-action {
    padding: 5px 10px;
    cursor: pointer;
}

.action-dropdown {
    display: none;
    position: absolute;
    background: #fff;
    border: 1px solid #ddd;
    min-width: 100px;
    z-index: 1000;
}

.action-dropdown a {
    display: block;
    padding: 6px 10px;
    text-decoration: none;
    color: #333;
}

.action-dropdown a:hover {
    background: #f0f0f0;
}

.action-menu:hover .action-dropdown {
    display: block;
}


</style>
<body>

<section>
    <h1>Department List</h1>

    <div class="content-box">
        <table id="departmentTable" class="display" style="width:100%">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Abbreviation</th>
                    <th>Created At</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>



<script>
$(document).ready(function() {
    $('#departmentTable').DataTable({
        ajax: {
            url: 'http://192.168.56.1:7001/LRM/department/list',
            type: 'GET',
            dataSrc: 'data' 
        },
        columns: [	
            { data: 'id' },
            { data: 'name' },
            { data: 'abbreviation' },
            { data: 'created_at' },
            { 
            	data: 'id',
            	searchable : false,
            	orderable : false,
            	render: function (data, type, row) {
            	    return `
            	        <div class="action-menu">
            	            <button class="btn-action">Action â–¾</button>
            	            <div class="action-dropdown">
            	                <a href="/LRM/department/edit/${data}" class="edit">Edit</a>
            	                <a href="javascript:void(0)"
            	                   class="delete"
            	                   onclick="deleteDepartment(${data})">Delete</a>
            	            </div>
            	        </div>
            	    `;
            	}

            
            }
        ],
        responsive: true,
        processing: true
    });
});

</script>
	
</section>


</body>
</html>